# — выбираем готовый образ для старта (на базе которого мы будем создавать свой)
FROM mysql:8.0.25

# — описывает метаданные, например — сведения о том, кто создал и поддерживает образ
# LABEL

# — устанавливает постоянные переменные среды
ENV MYSQL_RANDOM_ROOT_PASSWORD=yes

ENV MYSQL_DATABASE=app

ENV MYSQL_USER=app

ENV MYSQL_PASSWORD=pass

## — установка рабочего каталога внутри образа
#WORKDIR /usr/src/myapp
#
## — копируем файлы из текущего локального каталога в файловую систему образа
#COPY . /usr/src/myapp

# — выполняет команду и создаёт слой образа, используется для установки в контейнер пакетов
# RUN

# — копирует файлы и папки в контейнер, может распаковывать локальные .tar-файлы, а так же получать на вход URL и скачивать файл внутрь image
ADD schema.sql /docker-entrypoint-initdb.d/


# — описываем какие порты будет слушать контейнер
# — надо открыть снаружи порт 9999
EXPOSE 3306

# — описывает команду с аргументами, которую нужно выполнить когда контейнер будет запущен
# — аргументы могут быть переопределены при запуске контейнера
# — в файле может присутствовать лишь одна инструкция CMD
# CMD

# — задаёт переменные для передачи Docker во время сборки образа
# ARG

# — предоставляет команду с аргументами для вызова во время выполнения контейнера
# — агументы не переопределяются
# ENTRYPOINT

# — создаёт точку монтирования для работы с постоянным хранилищем
# VOLUME